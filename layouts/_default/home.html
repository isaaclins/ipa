{{- /*
  Home Layout - Titelblatt (Title Page)
  
  Renders the main title page of the IPA documentation.
  Displays all metadata from site params.
*/ -}}

{{ define "main" }}
<div class="titelblatt">
  <div class="titelblatt-content">
    <div class="titelblatt-header">
      <h1 class="document-type">Individuelle Praktische Arbeit</h1>
    </div>
    
    <div class="titelblatt-title">
      <h1 class="ipa-title">{{ .Site.Params.thema | default .Site.Title }}</h1>
    </div>
    
    <div class="titelblatt-meta">
      <table class="meta-table">
        <tr>
          <th>Autor:</th>
          <td>{{ .Site.Params.autor }}</td>
        </tr>
        <tr>
          <th>Datum:</th>
          <td>{{ .Site.Params.datumVon }} - {{ .Site.Params.datumBis }}</td>
        </tr>
        <tr>
          <th>Hauptexperte:</th>
          <td>{{ .Site.Params.hauptexperte }}</td>
        </tr>
        <tr>
          <th>Nebenexperte:</th>
          <td>{{ .Site.Params.nebenexperte }}</td>
        </tr>
        <tr>
          <th>Verantwortliche Fachkraft:</th>
          <td>{{ .Site.Params.verantwortlicheFachkraft }}</td>
        </tr>
        {{ with .Site.Params.weitereFachlicheBegleitung }}
        <tr>
          <th>Weitere Fachliche Begleitung:</th>
          <td>{{ . }}</td>
        </tr>
        {{ end }}
        <tr>
          <th>Lernbegleiter:</th>
          <td>{{ .Site.Params.lernbegleiter }}</td>
        </tr>
        <tr>
          <th>Version:</th>
          <td>{{ .Site.Params.version }}</td>
        </tr>
      </table>
    </div>
    
    {{ with .Content }}
    <div class="titelblatt-description">
      {{ . }}
    </div>
    {{ end }}
  </div>
</div>

<section class="home-navigation">
  <h2>Inhaltsverzeichnis</h2>
  <nav class="toc-overview">
    {{ range .Site.Sections }}
    {{ if not (eq .Section "pdf") }}
    <div class="toc-section">
      <h3><a href="{{ .Permalink }}">{{ .Title }}</a></h3>
      {{ if .Pages }}
      <ul>
        {{ range .Pages.ByWeight }}
        <li><a href="{{ .Permalink }}">{{ .Title }}</a></li>
        {{ end }}
      </ul>
      {{ end }}
    </div>
    {{ end }}
    {{ end }}
  </nav>
</section>
{{ end }}
