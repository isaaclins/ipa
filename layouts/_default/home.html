{{- /*
  Home Layout - Titelblatt (Title Page)
  
  Renders the main title page of the IPA documentation.
  Displays all metadata from site params.
*/ -}}

{{ define "main" }}
<div class="titelblatt">
  <div class="titelblatt-content">
    <div class="titelblatt-header">
      <h1 class="document-type">Individuelle Praktische Arbeit</h1>
    </div>
    
    <div class="titelblatt-title">
      <h1 class="ipa-title">{{ .Site.Params.thema | default .Site.Title }}</h1>
    </div>
    
    <div class="titelblatt-meta">
      <table class="meta-table">
        <tr><th>Autor:</th><td>{{ .Site.Params.autor }}</td></tr>
        <tr><th>Firma:</th><td>{{ .Site.Params.firma }}</td></tr>
        <tr><th>Abteilung:</th><td>{{ .Site.Params.abteilung }}</td></tr>
        <tr><th>Berufsschule:</th><td>{{ .Site.Params.berufsschule }}</td></tr>
        <tr><th>Validexperte (VEX):</th><td>{{ .Site.Params.validexperte }}</td></tr>
        <tr><th>Hauptexperte (HEX):</th><td>{{ .Site.Params.hauptexperte }}</td></tr>
        <tr><th>Nebenexperte (NEX):</th><td>{{ .Site.Params.nebenexperte }}</td></tr>
        <tr><th>Verantwortliche Fachkraft (VF):</th><td>{{ .Site.Params.verantwortlicheFachkraft }}</td></tr>
        <tr><th>Berufsbildner:</th><td>{{ .Site.Params.berufsbildner }}</td></tr>
        <tr><th>Fachrichtung:</th><td>{{ .Site.Params.fachrichtung }}</td></tr>
        <tr><th>Projektvorgehensmodell:</th><td>{{ .Site.Params.projektvorgehensmodell }}</td></tr>
        <tr><th>Jahrgang und Kanton:</th><td>{{ .Site.Params.jahrgangKanton }}</td></tr>
        <tr><th>Ausgabedatum:</th><td>{{ .Site.Params.ausgabedatum }}</td></tr>
        <tr><th>Datum:</th><td>{{ .Site.Params.datumVon }} - {{ .Site.Params.datumBis }}</td></tr>
        <tr><th>Version:</th><td>{{ .Site.Params.version }}</td></tr>
      </table>
    </div>
    
    {{ with .Content }}
    <div class="titelblatt-description">
      {{ . }}
    </div>
    {{ end }}
  </div>
</div>

<section class="home-navigation">
  <h2>Inhaltsverzeichnis</h2>
  <nav class="toc-overview">
    {{- $num := 0 -}}
    {{- range .Site.Sections.ByWeight -}}
      {{- if not (eq .Section "pdf") -}}
        {{- $num = add $num 1 -}}
        <div class="toc-entry">
          <a href="{{ .Permalink }}" class="toc-entry-link">
            <span class="toc-entry-num">{{ $num }}.</span>
            <span class="toc-entry-title">{{ .Title }}</span>
          </a>
          {{- if .Pages -}}
          <ul class="toc-entry-sub">
            {{- range $i, $page := .Pages.ByWeight -}}
            <li>
              <a href="{{ $page.Permalink }}">
                <span class="toc-entry-num">{{ $num }}.{{ add $i 1 }}</span>
                <span>{{ $page.Title }}</span>
              </a>
            </li>
            {{- end -}}
          </ul>
          {{- end -}}
        </div>
      {{- end -}}
    {{- end -}}
  </nav>
</section>
{{ end }}
