{{- /*
  Header Partial - Site Header and Navigation
  
  Contains site branding and main navigation menu.
  Menu items are generated dynamically from content sections (sorted by weight).
  No manual menu configuration in hugo.toml required.
*/ -}}

<header class="site-header">
  <div class="header-content">
    <div class="site-branding">
      <a href="{{ .Site.BaseURL }}" class="site-logo">
        <span class="logo-text">{{ .Site.Title }}</span>
      </a>
    </div>
    
    <nav class="main-navigation" aria-label="Hauptnavigation">
      <button class="nav-toggle" aria-expanded="false" aria-controls="nav-menu">
        <span class="nav-toggle-icon">☰</span>
        <span class="sr-only">Menü</span>
      </button>
      
      <ul id="nav-menu" class="nav-menu">
        {{/* Home link */}}
        <li class="nav-item{{ if .IsHome }} active{{ end }}">
          <a href="{{ .Site.BaseURL }}" class="nav-link">Home</a>
        </li>

        {{/* Dynamically iterate all content sections, sorted by weight */}}
        {{- range .Site.Sections.ByWeight -}}
          {{- if not (eq .Section "pdf") -}}
          <li class="nav-item{{ if eq $.Section .Section }} active{{ end }}">
            <a href="{{ .Permalink }}" class="nav-link">{{ .Title }}</a>
          </li>
          {{- end -}}
        {{- end -}}
        
        {{/* PDF link */}}
        {{ if .Site.Params.enablePDF }}
        <li class="nav-item nav-item-pdf">
          <a href="{{ "pdf/" | absURL }}" class="nav-link nav-link-pdf" target="_blank">
            PDF
          </a>
        </li>
        {{ end }}
      </ul>
    </nav>
  </div>
</header>
